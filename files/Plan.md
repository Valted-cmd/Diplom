# План автоматизации тестирования сервиса покупки туров

## Валидными данными при заполнении полей следует считать:

    1. Номер карты: 16 цифр
    2. Месяц: число от 01 до 12
    3. Год: две последние цифры текущего или последующих годов, но не более 5 лет от текущего года
    4. Владелец: Фамилия и Имя на латинице через пробел
    5. СVC/CVV: три цифры

## Номера карт, используемых для тестирования:

- Номер валидной карты: "4444 4444 4444 4441" статус карты "APPROVED"
- Номер не валидной карты: "4444 4444 4444 4442" статус карты "DECLINED"

## Перечень автоматизируемых сценариев:
### Примечание:
- ссылки перехода на станицу покупки тура доступны только при запущенной SUT.
- поля "Владелец", "СVC/CVV" генерируются faker-ом в случайном порядке, но в соответствии с требованиями к заполнению данных в банковских сервисах.

# UI тесты
---
## Предусловия тестов:

Шаги:

    1. В браузере перейти по адресу http://localhost:8080
    2. Нажать кнопку "Купить"

*1. Заявка "Оплата по карте", заполненная валидными данными карты со статусом Approved успешно одобрена банком*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: выведено сообщение "Успешно. Операция одобрена банком."

*2. Заявка "Оплата по карте", заполненная данными карты со статусом Declined отклонена банком*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4442
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: всплывающее сообщение "Ошибка! Банк отказал в проведении операции!"

*3. Заявка "Оплата по карте", заполненная данными карты, отсутствующими в БД банка, отклонена банком*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 3333 3333 3333 3333
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы возможна, всплывающее сообщение "Ошибка! Банк отказал в проведении операции"

*4. Заявка "Оплата по карте", значение поля "Номер карты" пустое, все остальные поля формы валидные*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: пусто
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

*5. Заявка "Оплата по карте", значение поля "Номер карты" содержит одну цифру, все остальные поля формы валидные*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 5
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

*6. Заявка "Оплата по карте", значение поля "Номер карты" содержит нули, все остальные поля формы валидные*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 0000 0000 0000 0000
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

*7. Заявка "Оплата по карте", значение поля "Номер карты" из 15 цифр, все остальные поля формы валидные*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 444
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. В поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Номер карты"

*8. Заявка "Оплата по карте", значение поля "Месяц" пустое, все остальные поля формы валидные*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: пусто
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Месяц"

*9. Заявка "Оплата по карте", значение поля "Месяц" больше "12"*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 13
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

*10. Заявка "Оплата по карте", значение поля "Месяц" меньше "01"*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 00
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

*11. Заявка "Оплата по карте", значение поля "Месяц" - месяц, предыдущий от текущего, остальные поля - валидные данные*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 00
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

*12. Заявка "Оплата по карте", значение поля "Год" пустое*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: пусто
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение «Поле обязательно для заполнения» под полем "Год"

*13. Заявка "Оплата по карте", значение поля "Год" 00*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 00
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Истек срок действия карты" под полем "Год"

*14. Заявка "Оплата по карте", значение поля "Год" прошлого периода*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 21
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Истек срок действия карты" под полем "Год"

*15. Заявка "Оплата по карте", значение поля "Год" далекого будущего периода*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 28
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Год"

*16. Заявка "Оплата по карте", значение поля "CVC/CVV" пусто*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: пусто
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "CVC/CVV"

*17. Заявка "Оплата по карте", значение поля "CVC/CVV" 1 цифра*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 5
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "CVC/CVV"

*18. Заявка "Оплата по карте", значение поля "CVC/CVV" 2 цифры*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 55
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "CVC/CVV"

*19. Заявка "Оплата по карте", значение поля "CVC/CVV" 000*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441 
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina Galchevskaya
    6. В поле "CVC/CVV" ввести: 000
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: форма отправилась успешно, всплывающее сообщение "Успешно. Операция одобрена банком!"

*20. Заявка "Оплата по карте", значение поля "Владелец" оформлено в верхнем регистре*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441 
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: KRISTINA GALCHEVSKAYA
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: форма отправилась успешно, всплывающее сообщение "Успешно. Операция одобрена банком!"

*21. Заявка "Оплата по карте", значение поля "Владелец" через дефис*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441 
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina-Galchevskaya
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: форма отправилась успешно, всплывающее сообщение "Успешно. Операция одобрена банком!"

*22. Заявка "Оплата по карте", значение поля "Владелец" пустое*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441 
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: пусто
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Владелец"

*23. Заявка "Оплата по карте", значение поля "Владелец" одним словом на латинице*

    1.Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441 
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Kristina
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

*24. Заявка "Оплата по карте", значение поля "Владелец" фамилия и имя на кирилице*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: Кристина Гальчевская
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

*25. Заявка "Оплата по карте", значение поля "Владелец" заполнено спец.символами*

    1. Проверить, что название формы - "Оплата по карте"
    2. В поле "Номер карты" ввести: 4444 4444 4444 4441 
    3. В поле "Месяц" ввести: 09
    4. В поле "Год" ввести: 22
    5. Поле "Владелец" ввести: @#$%&^*(+~-<</*?>|
    6. В поле "CVC/CVV" ввести: 999
    7. Нажать кнопку "Продолжить"
Ожидаемый результат: отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

ВСЕ ПРОВОДИМЫЕ ТЕСТЫ ТАКЖЕ ПРОВЕСТИ НА ФУНКЦИОНАЛЕ "ОПЛАТА В КРЕДИТ"
---
# API тесты:

    1. Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/payment
Ожидаемый результат: выведено сообщение "Успешно. Операция одобрена банком."

    2. Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/payment
Ожидаемый результат: всплывающее сообщение "Ошибка! Банк отказал в проведении операции!"

    3. Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/credit
Ожидаемый результат: выведено сообщение "Успешно. Операция одобрена банком."

    4. Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/credit
Ожидаемый результат: всплывающее сообщение "Ошибка! Банк отказал в проведении операции!"

## Перечень используемых инструментов с обоснованием выбора

1. IntelliJ IDEA Ultimate - это интеллектуальная IDE, учитывающая контекст. Она предназначена для разработки разнообразных приложений на Java;
2. Java 11 - язык программирования, на котором будут написаны автотесты;
3. JUnit5 - это инфраструктура модульного тестирования для Java следующего поколения, оснащенная множеством функций;
4. Gradle - система автоматизации сборки и управления зависимостями;
5. JavaFaker - это библиотека, которую можно использовать для создания широкого спектра реальных данных от адресов до ссылок на популярные культуры.
6. Docker - это стандартизированное ПО для разработки и развёртывания проектов;
7. Allure - это фреймворк для сбора данных и построения отчетов о тестировании кода.
8. Github - это сайт-хранилище для историй версий проектов

## Перечень и описание возможных рисков при автоматизации

1. Возможны проблемы с подключением и настройкой тестируемого окружения и СУБД;
2. Изменение структуры страницы (html, css) - недоступность css-селекторов для проверки;
3. Большое количество багов, которые увеличат время тестирования.

## Интервальная оценка с учётом рисков (в часах)

1. Планирование автоматизации тестирования (изучение тех.документации, подготовка проекта) - 8 часов;
2. Непосредственно сама автоматизация (написание тестов и запуск тестов) - 56 часов;
3. Подготовка отчетных документов по итогам автоматизации - 10 часов.

## План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)

1. План по автоматизации тестирования - до 30.11.22
2. Написание и запуск тестов - до 30.11.22
3. Подготовка отчёта по автоматизации - до 30.11.22